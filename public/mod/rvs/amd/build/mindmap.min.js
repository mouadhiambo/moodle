/**
 * Mind map visualization module
 *
 * @module     mod_rvs/mindmap
 * @copyright  2025 RVIBS
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("mod_rvs/mindmap",["core/log"],(function(Log){return{init:function(){var container=document.getElementById("mindmap-visualization");if(container){var encoded=container.getAttribute("data-mindmap-b64"),raw=encoded?atob(encoded):container.getAttribute("data-mindmap");if(raw){var cleaned=function(value){if("undefined"==typeof document)return value;var textarea=document.createElement("textarea");return textarea.innerHTML=value,textarea.value}(raw).replace(/^```json\s*/i,"").replace(/^```\s*/i,"").replace(/\s*```\s*$/m,""),data=null;try{data=function(raw){var data=raw,parsed=null;try{"string"==typeof(parsed=JSON.parse(data))&&(parsed=JSON.parse(parsed))}catch(error){parsed=null}if(parsed||"string"==typeof(parsed=JSON.parse(data.trim()))&&(parsed=JSON.parse(parsed)),!parsed||"object"!=typeof parsed)throw new Error("Invalid mind map payload type");return parsed}(cleaned)}catch(error){var message="Error parsing mind map data: "+(error&&error.message?error.message:error);return Log.error(message),void(container.innerHTML='<div class="alert alert-warning">Unable to display mind map. Invalid data format.</div>')}this.renderMindMap(container,data)}}},renderMindMap:function(container,data){var html='<div class="mindmap-root">';html+='<div class="mindmap-central">'+(data.central||"Main Topic")+"</div>",html+='<div class="mindmap-branches">',data.branches&&Array.isArray(data.branches)&&data.branches.forEach((function(branch){html+='<div class="mindmap-branch">',html+='<div class="mindmap-branch-topic">'+(branch.topic||"")+"</div>",branch.subtopics&&Array.isArray(branch.subtopics)&&(html+='<ul class="mindmap-subtopics">',branch.subtopics.forEach((function(subtopic){html+="<li>"+subtopic+"</li>"})),html+="</ul>"),html+="</div>"})),html+="</div>",html+="</div>",container.innerHTML=html,this.addStyles()},addStyles:function(){if(!document.getElementById("rvs-mindmap-styles")){var style=document.createElement("style");style.id="rvs-mindmap-styles",style.textContent='\n                .mindmap-root {\n                    display: flex;\n                    flex-direction: column;\n                    align-items: center;\n                    padding: 20px;\n                }\n                .mindmap-central {\n                    background: #0f6cbf;\n                    color: white;\n                    padding: 15px 30px;\n                    border-radius: 50px;\n                    font-size: 20px;\n                    font-weight: bold;\n                    margin-bottom: 30px;\n                }\n                .mindmap-branches {\n                    display: flex;\n                    flex-wrap: wrap;\n                    justify-content: center;\n                    gap: 20px;\n                }\n                .mindmap-branch {\n                    background: #f0f0f0;\n                    border: 2px solid #0f6cbf;\n                    border-radius: 10px;\n                    padding: 15px;\n                    min-width: 200px;\n                }\n                .mindmap-branch-topic {\n                    font-weight: bold;\n                    color: #0f6cbf;\n                    margin-bottom: 10px;\n                    font-size: 16px;\n                }\n                .mindmap-subtopics {\n                    list-style: none;\n                    padding-left: 0;\n                }\n                .mindmap-subtopics li {\n                    padding: 5px 0;\n                    padding-left: 15px;\n                    position: relative;\n                }\n                .mindmap-subtopics li:before {\n                    content: "â†’";\n                    position: absolute;\n                    left: 0;\n                }\n            ',document.head.appendChild(style)}}}}));

//# sourceMappingURL=mindmap.min.js.map