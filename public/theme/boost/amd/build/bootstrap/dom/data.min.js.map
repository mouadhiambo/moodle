{"version":3,"file":"data.min.js","sources":["../../../src/bootstrap/dom/data.js"],"sourcesContent":["/**\r\n * --------------------------------------------------------------------------\r\n * Bootstrap dom/data.js\r\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\r\n * --------------------------------------------------------------------------\r\n */\r\n\r\n/**\r\n * Constants\r\n */\r\n\r\nconst elementMap = new Map()\r\n\r\nexport default {\r\n  set(element, key, instance) {\r\n    if (!elementMap.has(element)) {\r\n      elementMap.set(element, new Map())\r\n    }\r\n\r\n    const instanceMap = elementMap.get(element)\r\n\r\n    // make it clear we only want one instance per element\r\n    // can be removed later when multiple key/instances are fine to be used\r\n    if (!instanceMap.has(key) && instanceMap.size !== 0) {\r\n      // eslint-disable-next-line no-console\r\n      console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(instanceMap.keys())[0]}.`)\r\n      return\r\n    }\r\n\r\n    instanceMap.set(key, instance)\r\n  },\r\n\r\n  get(element, key) {\r\n    if (elementMap.has(element)) {\r\n      return elementMap.get(element).get(key) || null\r\n    }\r\n\r\n    return null\r\n  },\r\n\r\n  remove(element, key) {\r\n    if (!elementMap.has(element)) {\r\n      return\r\n    }\r\n\r\n    const instanceMap = elementMap.get(element)\r\n\r\n    instanceMap.delete(key)\r\n\r\n    // free up element references if there are no instances left for an element\r\n    if (instanceMap.size === 0) {\r\n      elementMap.delete(element)\r\n    }\r\n  }\r\n}\r\n"],"names":["elementMap","Map","set","element","key","instance","has","instanceMap","get","size","console","error","Array","from","keys","remove","delete"],"mappings":"8JAWMA,WAAa,IAAIC,iBAER,CACbC,IAAIC,QAASC,IAAKC,UACXL,WAAWM,IAAIH,UAClBH,WAAWE,IAAIC,QAAS,IAAIF,WAGxBM,YAAcP,WAAWQ,IAAIL,SAI9BI,YAAYD,IAAIF,MAA6B,IAArBG,YAAYE,KAMzCF,YAAYL,IAAIE,IAAKC,UAJnBK,QAAQC,4FAAqFC,MAAMC,KAAKN,YAAYO,QAAQ,UAOhIN,IAAG,CAACL,QAASC,MACPJ,WAAWM,IAAIH,UACVH,WAAWQ,IAAIL,SAASK,IAAIJ,MAG9B,KAGTW,OAAOZ,QAASC,SACTJ,WAAWM,IAAIH,sBAIdI,YAAcP,WAAWQ,IAAIL,SAEnCI,YAAYS,OAAOZ,KAGM,IAArBG,YAAYE,MACdT,WAAWgB,OAAOb"}