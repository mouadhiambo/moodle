{"version":3,"file":"chart_output_chartjs.min.js","sources":["../src/chart_output_chartjs.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\r\n//\r\n// Moodle is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU General Public License as published by\r\n// the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// Moodle is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU General Public License\r\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n/**\r\n * Chart output for chart.js.\r\n *\r\n * @copyright  2016 Frédéric Massart - FMCorz.net\r\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\r\n * @module     core/chart_output_chartjs\r\n */\r\ndefine([\r\n    'jquery',\r\n    'core/chartjs',\r\n    'core/chart_axis',\r\n    'core/chart_bar',\r\n    'core/chart_output_base',\r\n    'core/chart_line',\r\n    'core/chart_pie',\r\n    'core/chart_series'\r\n], function($, Chartjs, Axis, Bar, Base, Line, Pie, Series) {\r\n\r\n    /**\r\n     * Makes an axis ID.\r\n     *\r\n     * @param {String} xy Accepts 'x' and 'y'.\r\n     * @param {Number} index The axis index.\r\n     * @return {String}\r\n     */\r\n    var makeAxisId = function(xy, index) {\r\n        return 'axis-' + xy + '-' + index;\r\n    };\r\n\r\n    /**\r\n     * Chart output for Chart.js.\r\n     *\r\n     * @class\r\n     * @extends {module:core/chart_output_base}\r\n     */\r\n    function Output() {\r\n        Base.prototype.constructor.apply(this, arguments);\r\n\r\n        // Make sure that we've got a canvas tag.\r\n        this._canvas = this._node;\r\n        if (this._canvas.prop('tagName') != 'CANVAS') {\r\n            this._canvas = $('<canvas>');\r\n            this._node.append(this._canvas);\r\n        }\r\n\r\n        this._build();\r\n    }\r\n    Output.prototype = Object.create(Base.prototype);\r\n\r\n    /**\r\n     * Reference to the chart config object.\r\n     *\r\n     * @type {Object}\r\n     * @protected\r\n     */\r\n    Output.prototype._config = null;\r\n\r\n    /**\r\n     * Reference to the instance of chart.js.\r\n     *\r\n     * @type {Object}\r\n     * @protected\r\n     */\r\n    Output.prototype._chartjs = null;\r\n\r\n    /**\r\n     * Reference to the canvas node.\r\n     *\r\n     * @type {Jquery}\r\n     * @protected\r\n     */\r\n    Output.prototype._canvas = null;\r\n\r\n    /**\r\n     * Builds the config and the chart.\r\n     *\r\n     * @protected\r\n     */\r\n    Output.prototype._build = function() {\r\n        this._config = this._makeConfig();\r\n        this._chartjs = new Chartjs(this._canvas[0], this._config);\r\n    };\r\n\r\n    /**\r\n     * Clean data.\r\n     *\r\n     * @param {(String|String[])} data A single string or an array of strings.\r\n     * @returns {(String|String[])}\r\n     * @protected\r\n     */\r\n    Output.prototype._cleanData = function(data) {\r\n        if (data instanceof Array) {\r\n            return data.map(function(value) {\r\n                return $('<span>').html(value).text();\r\n            });\r\n        } else {\r\n            return $('<span>').html(data).text();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Get the chart type and handles the Chart.js specific chart types.\r\n     *\r\n     * By default returns the current chart TYPE value. Also does the handling of specific chart types, for example\r\n     * check if the bar chart should be horizontal and the pie chart should be displayed as a doughnut.\r\n     *\r\n     * @method getChartType\r\n     * @returns {String} the chart type.\r\n     * @protected\r\n     */\r\n    Output.prototype._getChartType = function() {\r\n        var type = this._chart.getType();\r\n\r\n        // Bars can be displayed vertically and horizontally, defining horizontalBar type.\r\n        if (this._chart.getType() === Bar.prototype.TYPE && this._chart.getHorizontal() === true) {\r\n            type = 'horizontalBar';\r\n        } else if (this._chart.getType() === Pie.prototype.TYPE && this._chart.getDoughnut() === true) {\r\n            // Pie chart can be displayed as doughnut.\r\n            type = 'doughnut';\r\n        }\r\n\r\n        return type;\r\n    };\r\n\r\n    /**\r\n     * Make the axis config.\r\n     *\r\n     * @protected\r\n     * @param {module:core/chart_axis} axis The axis.\r\n     * @param {String} xy Accepts 'x' or 'y'.\r\n     * @param {Number} index The axis index.\r\n     * @return {Object} The axis config.\r\n     */\r\n    Output.prototype._makeAxisConfig = function(axis, xy, index) {\r\n        var scaleData = {\r\n            id: makeAxisId(xy, index)\r\n        };\r\n\r\n        if (axis.getPosition() !== Axis.prototype.POS_DEFAULT) {\r\n            scaleData.position = axis.getPosition();\r\n        }\r\n\r\n        if (axis.getLabel() !== null) {\r\n            scaleData.title = {\r\n                display: true,\r\n                text: this._cleanData(axis.getLabel())\r\n            };\r\n        }\r\n\r\n        if (axis.getStepSize() !== null) {\r\n            scaleData.ticks = scaleData.ticks || {};\r\n            scaleData.ticks.stepSize = axis.getStepSize();\r\n        }\r\n\r\n        if (axis.getMax() !== null) {\r\n            scaleData.ticks = scaleData.ticks || {};\r\n            scaleData.ticks.max = axis.getMax();\r\n        }\r\n\r\n        if (axis.getMin() !== null) {\r\n            scaleData.ticks = scaleData.ticks || {};\r\n            scaleData.ticks.min = axis.getMin();\r\n        }\r\n\r\n        return scaleData;\r\n    };\r\n\r\n    /**\r\n     * Make the config config.\r\n     *\r\n     * @protected\r\n     * @return {Object} The axis config.\r\n     */\r\n    Output.prototype._makeConfig = function() {\r\n        var charType = this._getChartType();\r\n        var labels = this._cleanData(this._chart.getLabels());\r\n        var config = {\r\n            type: charType,\r\n            data: {\r\n                // If the label is longer than 25 characters, truncate it and add an\r\n                // ellipsis to avoid breaking the chart.\r\n                labels: labels.map((label) => {\r\n                    return label.length > 25 ? `${label.substring(0, 25)}...` : label;\r\n                }),\r\n                datasets: this._makeDatasetsConfig()\r\n            },\r\n            options: {\r\n                locale: document.documentElement.getAttribute('lang'),\r\n                responsive: true,\r\n                maintainAspectRatio: false,\r\n                plugins: {\r\n                    title: {\r\n                        display: this._chart.getTitle() !== null,\r\n                        text: this._cleanData(this._chart.getTitle())\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        if (charType === 'horizontalBar') {\r\n            config.type = 'bar';\r\n            config.options.indexAxis = 'y';\r\n        }\r\n\r\n        var legendOptions = this._chart.getLegendOptions();\r\n        if (legendOptions) {\r\n            config.options.plugins.legend = legendOptions;\r\n        }\r\n\r\n        var responsiveOptions = this._chart.getResponsiveOptions();\r\n        if (responsiveOptions) {\r\n            // Possible values to be changed in the properties related to the chart's responsiveness.\r\n            const responsiveProperties = ['aspectRatio', 'maintainAspectRatio', 'responsive', 'resizeDelay'];\r\n            for (const key of responsiveProperties) {\r\n                const value = responsiveOptions[key];\r\n                if (value !== null && value !== undefined) {\r\n                    config.options[key] = value;\r\n                }\r\n            }\r\n        }\r\n\r\n        this._chart.getXAxes().forEach(function(axis, i) {\r\n            var axisLabels = axis.getLabels();\r\n\r\n            config.options.scales = config.options.scales || {};\r\n            config.options.scales.x = this._makeAxisConfig(axis, 'x', i);\r\n\r\n            if (axisLabels !== null) {\r\n                config.options.scales.x.ticks.callback = function(value, index) {\r\n                    return axisLabels[index] || '';\r\n                };\r\n            }\r\n            config.options.scales.x.stacked = this._isStacked();\r\n        }.bind(this));\r\n\r\n        this._chart.getYAxes().forEach(function(axis, i) {\r\n            var axisLabels = axis.getLabels();\r\n\r\n            config.options.scales = config.options.scales || {};\r\n            config.options.scales.y = this._makeAxisConfig(axis, 'y', i);\r\n\r\n            if (axisLabels !== null) {\r\n                config.options.scales.y.ticks.callback = function(value) {\r\n                    return axisLabels[parseInt(value, 10)] || '';\r\n                };\r\n            }\r\n            config.options.scales.y.stacked = this._isStacked();\r\n        }.bind(this));\r\n\r\n        config.options.plugins.tooltip = {\r\n            callbacks: {\r\n                title: (ctx) => {\r\n                    // Add line breaks to the tooltip title to prevent the tooltip from cutting\r\n                    // off if the title has a character count that overlaps the width of the chart.\r\n                    var label = labels[ctx[0].dataIndex];\r\n                    return label.match(/.{1,80}/g);\r\n                },\r\n                label: this._makeTooltip.bind(this)\r\n            }\r\n        };\r\n\r\n        return config;\r\n    };\r\n\r\n    /**\r\n     * Get the datasets configurations.\r\n     *\r\n     * @protected\r\n     * @return {Object[]}\r\n     */\r\n    Output.prototype._makeDatasetsConfig = function() {\r\n        var sets = this._chart.getSeries().map(function(series) {\r\n            var colors = series.hasColoredValues() ? series.getColors() : series.getColor();\r\n            var dataset = {\r\n                label: this._cleanData(series.getLabel()),\r\n                data: series.getValues(),\r\n                type: series.getType(),\r\n                fill: series.getFill(),\r\n                backgroundColor: colors,\r\n                // Pie charts look better without borders.\r\n                borderColor: this._chart.getType() == Pie.prototype.TYPE ? '#fff' : colors,\r\n                tension: this._isSmooth(series) ? 0.3 : 0\r\n            };\r\n\r\n            if (series.getXAxis() !== null) {\r\n                dataset.xAxisID = makeAxisId('x', series.getXAxis());\r\n            }\r\n            if (series.getYAxis() !== null) {\r\n                dataset.yAxisID = makeAxisId('y', series.getYAxis());\r\n            }\r\n\r\n            return dataset;\r\n        }.bind(this));\r\n        return sets;\r\n    };\r\n\r\n    /**\r\n     * Get the chart data, add labels and rebuild the tooltip.\r\n     *\r\n     * @param {Object[]} tooltipItem The tooltip item object.\r\n     * @returns {Array}\r\n     * @protected\r\n     */\r\n    Output.prototype._makeTooltip = function(tooltipItem) {\r\n\r\n        // Get series and chart data to rebuild the tooltip and add labels.\r\n        const formatter = new Intl.NumberFormat(this._config.options.locale);\r\n        var series = this._chart.getSeries()[tooltipItem.datasetIndex];\r\n        var serieLabel = series.getLabel();\r\n        var chartData = tooltipItem.dataset.data;\r\n        var tooltipData = formatter.format(chartData[tooltipItem.dataIndex]);\r\n\r\n        // Build default tooltip.\r\n        var tooltip = [];\r\n\r\n        // Pie and doughnut charts tooltip are different.\r\n        if (this._chart.getType() === Pie.prototype.TYPE) {\r\n            var chartLabels = this._cleanData(this._chart.getLabels());\r\n            tooltip.push(chartLabels[tooltipItem.dataIndex] + ' - ' + this._cleanData(serieLabel) + ': ' + tooltipData);\r\n        } else {\r\n            tooltip.push(this._cleanData(serieLabel) + ': ' + tooltipData);\r\n        }\r\n\r\n        return tooltip;\r\n    };\r\n\r\n    /**\r\n     * Verify if the chart line is smooth or not.\r\n     *\r\n     * @protected\r\n     * @param {module:core/chart_series} series The series.\r\n     * @returns {Bool}\r\n     */\r\n    Output.prototype._isSmooth = function(series) {\r\n        var smooth = false;\r\n        if (this._chart.getType() === Line.prototype.TYPE) {\r\n            smooth = series.getSmooth();\r\n            if (smooth === null) {\r\n                smooth = this._chart.getSmooth();\r\n            }\r\n        } else if (series.getType() === Series.prototype.TYPE_LINE) {\r\n            smooth = series.getSmooth();\r\n        }\r\n\r\n        return smooth;\r\n    };\r\n\r\n    /**\r\n     * Verify if the bar chart is stacked or not.\r\n     *\r\n     * @protected\r\n     * @returns {Bool}\r\n     */\r\n    Output.prototype._isStacked = function() {\r\n        var stacked = false;\r\n\r\n        // Stacking is (currently) only supported for bar charts.\r\n        if (this._chart.getType() === Bar.prototype.TYPE) {\r\n            stacked = this._chart.getStacked();\r\n        }\r\n\r\n        return stacked;\r\n    };\r\n\r\n    /** @override */\r\n    Output.prototype.update = function() {\r\n        $.extend(true, this._config, this._makeConfig());\r\n        this._chartjs.update();\r\n    };\r\n\r\n    return Output;\r\n\r\n});\r\n"],"names":["define","$","Chartjs","Axis","Bar","Base","Line","Pie","Series","makeAxisId","xy","index","Output","prototype","constructor","apply","this","arguments","_canvas","_node","prop","append","_build","Object","create","_config","_chartjs","_makeConfig","_cleanData","data","Array","map","value","html","text","_getChartType","type","_chart","getType","TYPE","getHorizontal","getDoughnut","_makeAxisConfig","axis","scaleData","id","getPosition","POS_DEFAULT","position","getLabel","title","display","getStepSize","ticks","stepSize","getMax","max","getMin","min","charType","labels","getLabels","config","label","length","substring","datasets","_makeDatasetsConfig","options","locale","document","documentElement","getAttribute","responsive","maintainAspectRatio","plugins","getTitle","indexAxis","legendOptions","getLegendOptions","legend","responsiveOptions","getResponsiveOptions","responsiveProperties","key","getXAxes","forEach","i","axisLabels","scales","x","callback","stacked","_isStacked","bind","getYAxes","y","parseInt","tooltip","callbacks","ctx","dataIndex","match","_makeTooltip","getSeries","series","colors","hasColoredValues","getColors","getColor","dataset","getValues","fill","getFill","backgroundColor","borderColor","tension","_isSmooth","getXAxis","xAxisID","getYAxis","yAxisID","tooltipItem","formatter","Intl","NumberFormat","serieLabel","datasetIndex","chartData","tooltipData","format","chartLabels","push","smooth","getSmooth","TYPE_LINE","getStacked","update","extend"],"mappings":"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"}