{"version":3,"file":"event.min.js","sources":["../src/event.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\r\n//\r\n// Moodle is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU General Public License as published by\r\n// the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// Moodle is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU General Public License\r\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n/**\r\n * Global registry of core events that can be triggered/listened for.\r\n *\r\n * @module     core/event\r\n * @copyright  2015 Damyon Wiese <damyon@moodle.com>\r\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\r\n * @since      3.0\r\n */\r\n\r\nimport {notifyEditorContentRestored} from 'core_editor/events';\r\nimport {notifyFilterContentUpdated} from 'core_filters/events';\r\nimport {notifyFormSubmittedByJavascript} from 'core_form/events';\r\n\r\n// These are AMD only events - no backwards compatibility for new things.\r\n// Note: No new events should be created here.\r\nconst Events = {\r\n    FORM_FIELD_VALIDATION: \"core_form-field-validation\"\r\n};\r\n\r\n/**\r\n * Get a curried function to warn that a function has been moved and renamed\r\n *\r\n * @param   {String} oldFunctionName\r\n * @param   {String} newModule\r\n * @param   {String} newFunctionName\r\n * @param   {Function} newFunctionRef\r\n * @returns {Function}\r\n */\r\nconst getRenamedLegacyFunction = (oldFunctionName, newModule, newFunctionName, newFunctionRef) => (...args) => {\r\n    window.console.warn(\r\n        `The core/event::${oldFunctionName}() function has been moved to ${newModule}::${newFunctionName}. ` +\r\n        `Please update your code to use the new module.`\r\n    );\r\n\r\n    return newFunctionRef(...args);\r\n};\r\n\r\nexport default {\r\n    Events,\r\n    notifyEditorContentRestored: getRenamedLegacyFunction(\r\n        'notifyEditorContentRestored',\r\n        'core_editor/events',\r\n        'notifyEditorContentRestored',\r\n        notifyEditorContentRestored\r\n    ),\r\n\r\n    notifyFilterContentUpdated: getRenamedLegacyFunction(\r\n        'notifyFilterContentUpdated',\r\n        'core_filters/events',\r\n        'notifyFilterContentUpdated',\r\n        notifyFilterContentUpdated\r\n    ),\r\n\r\n    notifyFormSubmitAjax: getRenamedLegacyFunction(\r\n        'notifyFormSubmitAjax',\r\n        'core_form/events',\r\n        'notifyFormSubmittedByJavascript',\r\n        notifyFormSubmittedByJavascript\r\n    ),\r\n};\r\n"],"names":["getRenamedLegacyFunction","oldFunctionName","newModule","newFunctionName","newFunctionRef","window","console","warn","Events","FORM_FIELD_VALIDATION","notifyEditorContentRestored","notifyFilterContentUpdated","notifyFormSubmitAjax","notifyFormSubmittedByJavascript"],"mappings":";;;;;;;;;MA2CMA,yBAA2B,CAACC,gBAAiBC,UAAWC,gBAAiBC,iBAAmB,kBAC9FC,OAAOC,QAAQC,KACX,0BAAmBN,yDAAgDC,uBAAcC,wEAI9EC,2CAGI,CACXI,OAvBW,CACXC,sBAAuB,8BAuBvBC,4BAA6BV,yBACzB,8BACA,qBACA,8BACAU,qCAGJC,2BAA4BX,yBACxB,6BACA,sBACA,6BACAW,qCAGJC,qBAAsBZ,yBAClB,uBACA,mBACA,kCACAa"}